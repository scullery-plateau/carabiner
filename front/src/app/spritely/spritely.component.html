<form [formGroup]="spritelyForm">
  <div class="card" >
    <div class="card-header">
      <h4 class="card-title">Spritely</h4>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-4">
          <div class="row">
            <div class="col-sm-4">
              <div class="card">
                <div class="card-body">
                  <label for="backgroundColor" class="text-brand">Background Color:</label>
                  <input type="color" id="backgroundColor" class="form-control form-control-sm" formControlName="backgroundColor" value="#fffffe"/>
                </div>
              </div>
            </div>
            <div class="col-sm-3">
              <div class="card">
                <div class="card-body">
                  <label for="scale" class="text-brand">Scale:</label>
                  <input type="number" id="scale" class="form-control form-control-sm" formControlName="scale"/>
                </div>
              </div>
            </div>
            <div class="col-sm-4">
              <div class="card">
                <div class="card-body">
                  <label for="palette" class="text-brand">Palette: </label>
                  <select class="form-control form-control-sm" id="palette" formControlName="selectedPalette">
                    <option *ngFor="let color of palette; index as i" value="{{i}}">{{i}} - {{color||'Transparent'}}</option>
                  </select>
                </div>
              </div>
            </div>
            <div class="col-sm-5">
              <div class="card">
                <div class="card-body">
                  <label for="color" class="text-brand">Color:</label>
                  <button class="btn btn-success btn-sm" (click)="setColorAsTransparent()">Make Transparent</button>
                  <input type="color" id="color" class="form-control form-control-sm" formControlName="color" value="#000001" (change)="setColor()"/>
                </div>
              </div>
            </div>
            <div class="col-sm-6">
              <div class="card">
                <div class="card-body">
                  <button class="btn btn-primary" (click)="addColor()">Add Color</button>
                  <button class="btn btn-danger" (click)="removeColor()">Remove Color</button>
                </div>
              </div>
            </div>
            <div class="col-sm-10">
              <div class="card">
                <div class="card-body">
                  <div class="card-title">
                    <label class="text-brand">Image</label>
                  </div>
                  <app-pixel-painter
                    [pixels]="pixels"
                    [scale]="spritelyForm.value.scale"
                    [palette]="palette"
                    [trigger]="trigger"
                  ></app-pixel-painter>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-5">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <app-pixel-canvas
                  class="col-12"
                  [pixels]="pixels"
                  [scale]="spritelyForm.value.scale"
                  [palette]="palette"
                  [backgroundColor]="spritelyForm.value.backgroundColor"
                  [colorIndex]="spritelyForm.value.selectedPalette"
                  [trigger]="trigger"
                ></app-pixel-canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>
