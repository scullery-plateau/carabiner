{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/cobblestone/cobblestone-file.service.ts","webpack:///./src/app/cobblestone/cobblestone-map/cobblestone-map.component.html","webpack:///./src/app/cobblestone/cobblestone-map/cobblestone-map.component.scss","webpack:///./src/app/cobblestone/cobblestone-map/cobblestone-map.component.ts","webpack:///./src/app/cobblestone/cobblestone.component.html","webpack:///./src/app/cobblestone/cobblestone.component.scss","webpack:///./src/app/cobblestone/cobblestone.component.ts","webpack:///./src/app/cobblestone/map-page-picker/map-page-picker.component.html","webpack:///./src/app/cobblestone/map-page-picker/map-page-picker.component.scss","webpack:///./src/app/cobblestone/map-page-picker/map-page-picker.component.ts","webpack:///./src/app/cobblestone/palettes-and-tiles/palettes-and-tiles.component.html","webpack:///./src/app/cobblestone/palettes-and-tiles/palettes-and-tiles.component.scss","webpack:///./src/app/cobblestone/palettes-and-tiles/palettes-and-tiles.component.ts","webpack:///./src/app/cobblestone/tile-canvas/tile-canvas.component.html","webpack:///./src/app/cobblestone/tile-canvas/tile-canvas.component.scss","webpack:///./src/app/cobblestone/tile-canvas/tile-canvas.component.ts","webpack:///./src/app/cobblestone/tile-display/tile-display.component.html","webpack:///./src/app/cobblestone/tile-display/tile-display.component.scss","webpack:///./src/app/cobblestone/tile-display/tile-display.component.ts","webpack:///./src/app/cobblestone/tile-pixels/tile-pixels.component.html","webpack:///./src/app/cobblestone/tile-pixels/tile-pixels.component.scss","webpack:///./src/app/cobblestone/tile-pixels/tile-pixels.component.ts","webpack:///./src/app/cobblestone/tile-transformer.service.ts","webpack:///./src/app/cobblestone/tile.ts","webpack:///./src/app/cobblestone/transformed-tiles/transformed-tiles.component.html","webpack:///./src/app/cobblestone/transformed-tiles/transformed-tiles.component.scss","webpack:///./src/app/cobblestone/transformed-tiles/transformed-tiles.component.ts","webpack:///./src/app/mastermold/mastermold.component.html","webpack:///./src/app/mastermold/mastermold.component.scss","webpack:///./src/app/mastermold/mastermold.component.ts","webpack:///./src/app/pixel-canvas/pixel-canvas.component.html","webpack:///./src/app/pixel-canvas/pixel-canvas.component.scss","webpack:///./src/app/pixel-canvas/pixel-canvas.component.ts","webpack:///./src/app/pixel-painter/pixel-painter.component.html","webpack:///./src/app/pixel-painter/pixel-painter.component.scss","webpack:///./src/app/pixel-painter/pixel-painter.component.ts","webpack:///./src/app/spritely/spritely-file.service.ts","webpack:///./src/app/spritely/spritely.component.html","webpack:///./src/app/spritely/spritely.component.scss","webpack:///./src/app/spritely/spritely.component.ts","webpack:///./src/app/util/accordian/accordian.component.html","webpack:///./src/app/util/accordian/accordian.component.scss","webpack:///./src/app/util/accordian/accordian.component.ts","webpack:///./src/app/util/dialog-wrapper/dialog-wrapper.component.html","webpack:///./src/app/util/dialog-wrapper/dialog-wrapper.component.scss","webpack:///./src/app/util/dialog-wrapper/dialog-wrapper.component.ts","webpack:///./src/app/util/download-link.ts","webpack:///./src/app/util/file-form/file-form.component.html","webpack:///./src/app/util/file-form/file-form.component.scss","webpack:///./src/app/util/file-form/file-form.component.ts","webpack:///./src/app/util/file-load-input/file-load-input.component.html","webpack:///./src/app/util/file-load-input/file-load-input.component.scss","webpack:///./src/app/util/file-load-input/file-load-input.component.ts","webpack:///./src/app/util/nes-tabs/child-panel/child-panel.component.html","webpack:///./src/app/util/nes-tabs/child-panel/child-panel.component.scss","webpack:///./src/app/util/nes-tabs/child-panel/child-panel.component.ts","webpack:///./src/app/util/nes-tabs/tabbed-panel/tabbed-panel.component.html","webpack:///./src/app/util/nes-tabs/tabbed-panel/tabbed-panel.component.scss","webpack:///./src/app/util/nes-tabs/tabbed-panel/tabbed-panel.component.ts","webpack:///./src/app/util/palette-display/palette-display.component.html","webpack:///./src/app/util/palette-display/palette-display.component.scss","webpack:///./src/app/util/palette-display/palette-display.component.ts","webpack:///./src/app/util/pixel-pending/pixel-pending.component.html","webpack:///./src/app/util/pixel-pending/pixel-pending.component.scss","webpack:///./src/app/util/pixel-pending/pixel-pending.component.ts","webpack:///./src/app/util/point.ts","webpack:///./src/app/util/range.ts","webpack:///./src/app/util/trigger.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {CobblestoneComponent} from \"./cobblestone/cobblestone.component\";\r\nimport {SpritelyComponent} from \"./spritely/spritely.component\";\r\nimport {MastermoldComponent} from \"./mastermold/mastermold.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: '', redirectTo: '/spritely', pathMatch: 'full' },\r\n  { path: 'cobblestone', component: CobblestoneComponent },\r\n  { path: 'mastermold', component: MastermoldComponent },\r\n  { path: 'spritely', component: SpritelyComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, {useHash:true})],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<header class=\\\"sticky\\\">\\r\\n  <nav class=\\\"navbar navbar-expand-sm bg-primary navbar-dark\\\">\\r\\n    <a class=\\\"navbar-brand\\\" href=\\\"#\\\"><h2>{{title}}</h2></a>\\r\\n    <button class=\\\"navbar-toggler\\\" type=\\\"button\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#collapsibleNavbar\\\" onclick=\\\"toggleDropDown('collapsibleNavbar')\\\">\\r\\n      <span class=\\\"navbar-toggler-icon\\\"></span>\\r\\n    </button>\\r\\n    <div class=\\\"collapse navbar-collapse\\\" id=\\\"collapsibleNavbar\\\">\\r\\n      <ul class=\\\"navbar-nav\\\">\\r\\n        <li class=\\\"nav-item\\\">\\r\\n          <a class=\\\"nav-link\\\" href=\\\"#/spritely\\\">Spritely</a>\\r\\n        </li>\\r\\n        <!--\\r\\n        <li class=\\\"nav-item\\\">\\r\\n          <a class=\\\"nav-link\\\" href=\\\"#/cobblestone\\\">CobbleStone</a>\\r\\n        </li>\\r\\n        <li class=\\\"nav-item\\\">\\r\\n          <a class=\\\"nav-link\\\" href=\\\"#/mastermold\\\">MasterMold</a>\\r\\n        </li>\\r\\n        -->\\r\\n      </ul>\\r\\n    </div>\\r\\n  </nav>\\r\\n</header>\\r\\n<p></p>\\r\\n<div class=\\\"container-fluid\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n</div>\\r\\n<footer>\\r\\n  <div class=\\\"jumbotron text-center\\\" style=\\\"margin-bottom:0\\\">\\r\\n    <p>Built by Daniel Allen Johnson &copy; 2019</p>\\r\\n    <p>Contact at <a href=\\\"https://twitter.com/voltron42\\\" target=\\\"_blank\\\">@voltron42</a> on Twitter.</p>\\r\\n  </div>\\r\\n</footer>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'Scullery-Plateau';\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CobblestoneComponent } from './cobblestone/cobblestone.component';\r\nimport { MastermoldComponent } from './mastermold/mastermold.component';\r\nimport { SpritelyComponent } from './spritely/spritely.component';\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { PixelCanvasComponent } from './pixel-canvas/pixel-canvas.component';\r\nimport { PixelPainterComponent } from './pixel-painter/pixel-painter.component';\r\nimport { PalettesAndTilesComponent } from './cobblestone/palettes-and-tiles/palettes-and-tiles.component';\r\nimport { PaletteDisplayComponent } from './util/palette-display/palette-display.component';\r\nimport { DialogWrapperComponent } from './util/dialog-wrapper/dialog-wrapper.component';\r\nimport { AccordianComponent } from './util/accordian/accordian.component';\r\nimport { TransformedTilesComponent } from './cobblestone/transformed-tiles/transformed-tiles.component';\r\nimport { CobblestoneMapComponent } from './cobblestone/cobblestone-map/cobblestone-map.component';\r\nimport { MapPagePickerComponent } from './cobblestone/map-page-picker/map-page-picker.component';\r\nimport { TabbedPanelComponent } from './util/nes-tabs/tabbed-panel/tabbed-panel.component';\r\nimport { ChildPanelComponent } from './util/nes-tabs/child-panel/child-panel.component';\r\nimport { TileDisplayComponent } from './cobblestone/tile-display/tile-display.component';\r\nimport { FileFormComponent } from './util/file-form/file-form.component';\r\nimport { TilePixelsComponent } from './cobblestone/tile-pixels/tile-pixels.component';\r\nimport { FileLoadInputComponent } from './util/file-load-input/file-load-input.component';\r\nimport { TileCanvasComponent } from './cobblestone/tile-canvas/tile-canvas.component';\r\nimport { PixelPendingComponent } from './util/pixel-pending/pixel-pending.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    CobblestoneComponent,\r\n    MastermoldComponent,\r\n    SpritelyComponent,\r\n    PixelCanvasComponent,\r\n    PixelPainterComponent,\r\n    PalettesAndTilesComponent,\r\n    PaletteDisplayComponent,\r\n    DialogWrapperComponent,\r\n    AccordianComponent,\r\n    TransformedTilesComponent,\r\n    CobblestoneMapComponent,\r\n    MapPagePickerComponent,\r\n    TabbedPanelComponent,\r\n    ChildPanelComponent,\r\n    TileDisplayComponent,\r\n    FileFormComponent,\r\n    TilePixelsComponent,\r\n    FileLoadInputComponent,\r\n    TileCanvasComponent,\r\n    PixelPendingComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport {DownloadLink} from \"../util/download-link\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {Observable} from \"rxjs\";\r\nimport {SpritelyData} from \"../spritely/spritely-data\";\r\nimport {CobblestoneData} from \"./model/cobblestone-data\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CobblestoneFileService {\r\n\r\n  downloader: DownloadLink = new DownloadLink();\r\n\r\n  constructor(private client: HttpClient) { }\r\n\r\n  parseLoadData(loadData: string): Observable<CobblestoneData> {\r\n    return this.client.post<CobblestoneData>(\"/cobblestone/load\",loadData);\r\n  }\r\n\r\n  downloadImage(saveData: CobblestoneData, scale: number, fileName: string): void {\r\n    this.client.post<String>(\"/cobblestone/save\",{\r\n      \"scale\":scale,\r\n      \"full-map\":saveData\r\n    }).subscribe((base64) => {\r\n      this.downloader.setFileName(fileName);\r\n      this.downloader.setPath(\"data:image/png;base64,\" + base64);\r\n      this.downloader.invokeDownload();\r\n    });\r\n  }\r\n\r\n  downloaddata(saveData: SpritelyData, fileName: string): void {\r\n    this.client.post<String>(\"/cobblestone/save\",saveData).subscribe((rawdata) => {\r\n      this.downloader.setFileName(fileName);\r\n      this.downloader.setPath(\"data:text/plain;,\" + encodeURIComponent(rawdata.split(\"\\n\").join(\"\\r\\n\")));\r\n      this.downloader.invokeDownload();\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-4\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container\\\">\\r\\n        <div class=\\\"col-12\\\" *ngFor=\\\"let key of state.transforms.keys()\\\">\\r\\n          <button (click)=\\\"select(key)\\\">\\r\\n            <tile-display\\r\\n              [state]=\\\"state\\\"\\r\\n              [key]=\\\"key\\\">\\r\\n            </tile-display>\\r\\n          </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-8\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container\\\">\\r\\n        <form [formGroup]=\\\"dimForm\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <label for=\\\"width\\\" class=\\\"text-brand\\\">Width:</label>\\r\\n              <input type=\\\"number\\\" min=\\\"8\\\" max=\\\"64\\\" id=\\\"width\\\" class=\\\"nes-input\\\" formControlName=\\\"width\\\" (change)=\\\"resize()\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <label for=\\\"height\\\" class=\\\"text-brand\\\">Height:</label>\\r\\n              <input type=\\\"number\\\" min=\\\"8\\\" max=\\\"64\\\" id=\\\"height\\\" class=\\\"nes-input\\\" formControlName=\\\"height\\\" (change)=\\\"resize()\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n              <label for=\\\"scale\\\" class=\\\"text-brand\\\">Scale:</label>\\r\\n              <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"4\\\" id=\\\"scale\\\" class=\\\"nes-input\\\" formControlName=\\\"scale\\\" (change)=\\\"resize()\\\"/>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-12 map-frame\\\">\\r\\n            <svg\\r\\n              [attr.width]=\\\"dimForm.value.width * dimForm.value.scale * 16\\\"\\r\\n              [attr.height]=\\\"dimForm.value.height * dimForm.value.scale * 16\\\">\\r\\n              <defs>\\r\\n                <g id=\\\"bg\\\">\\r\\n                  <rect x=\\\"0\\\" y=\\\"0\\\"\\r\\n                    [attr.width]=\\\"dimForm.value.scale * 16\\\"\\r\\n                    [attr.height]=\\\"dimForm.value.scale * 16\\\"\\r\\n                    fill=\\\"white\\\"\\r\\n                    style=\\\"stroke:black;stroke-width:2\\\"/>\\r\\n                </g>\\r\\n                <ng-container *ngFor=\\\"let key of state.transforms.keys()\\\">\\r\\n                  <g [id]=\\\"key\\\">\\r\\n                    <ng-container *ngFor=\\\"let y of range.max(16)\\\">\\r\\n                      <ng-container *ngFor=\\\"let x of range.max(16)\\\">\\r\\n                        <svg:rect [attr.x]=\\\"x * dimForm.value.scale\\\" [attr.y]=\\\"y * dimForm.value.scale\\\"\\r\\n                          [attr.width]=\\\"dimForm.value.scale\\\" [attr.height]=\\\"dimForm.value.scale\\\"\\r\\n                          [attr.fill]=\\\"pixel(key,x,y)\\\" style=\\\"stroke:none;\\\"></svg:rect>\\r\\n                      </ng-container>\\r\\n                    </ng-container>\\r\\n                  </g>\\r\\n                </ng-container>\\r\\n              </defs>\\r\\n              <ng-container *ngFor=\\\"let y of range.max(dimForm.value.height)\\\">\\r\\n                <ng-container *ngFor=\\\"let x of range.max(dimForm.value.width)\\\">\\r\\n                  <a href=\\\"#/cobblestone\\\" (click)=\\\"setTile(x,y)\\\">\\r\\n                    <use [attr.href]=\\\"'#' + getTile(x,y)\\\"\\r\\n                    [attr.x]=\\\"x * dimForm.value.scale * 16\\\"\\r\\n                    [attr.y]=\\\"y * dimForm.value.scale * 16\\\"/>\\r\\n                  </a>\\r\\n                </ng-container>\\r\\n              </ng-container>\\r\\n            </svg>\\r\\n          </div>\\r\\n          </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"map-frame {\\n  overflow: scroll;\\n  width: 100%;\\n  height: 100%; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29iYmxlc3RvbmUvY29iYmxlc3RvbmUtbWFwL0M6XFxjb2RlXFxjYXJhYmluZXJcXGZyb250L3NyY1xcYXBwXFxjb2JibGVzdG9uZVxcY29iYmxlc3RvbmUtbWFwXFxjb2JibGVzdG9uZS1tYXAuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBZ0I7RUFDaEIsV0FBVztFQUNYLFlBQVksRUFBQSIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL2NvYmJsZXN0b25lLW1hcC9jb2JibGVzdG9uZS1tYXAuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJtYXAtZnJhbWUge1xyXG4gIG92ZXJmbG93OiBzY3JvbGw7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { Range } from \"../../util/range\";\r\nimport { Point } from \"../../util/point\";\r\nimport { Trigger } from \"../../util/trigger\";\r\n\r\n@Component({\r\n  selector: 'app-cobblestone-map',\r\n  templateUrl: './cobblestone-map.component.html',\r\n  styleUrls: ['./cobblestone-map.component.scss']\r\n})\r\nexport class CobblestoneMapComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  dimForm: FormGroup = this.fb.group({\r\n    width:[8],\r\n    height:[10],\r\n    scale:[3]\r\n  })\r\n\r\n  activeKey: string;\r\n\r\n  range = Range;\r\n\r\n  @Input()\r\n  loadTrigger: Trigger;\r\n\r\n  constructor(private fb: FormBuilder) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  updateFromFile() {\r\n\r\n  }\r\n\r\n  select(key: string) {\r\n    this.activeKey = key;\r\n  }\r\n\r\n  setTile(x:number,y:number) {\r\n    let key = (new Point(x,y)).toString();\r\n    if (this.state.map[key]) {\r\n      delete this.state.map[key];\r\n    } else {\r\n      if (this.state.transforms[this.activeKey]) {\r\n        this.state.map[key] = this.activeKey;\r\n      }\r\n    }\r\n  }\r\n\r\n  getTile(x:number,y:number) {\r\n    let p = new Point(x,y);\r\n    return this.state.map[p.toString()] || \"bg\";\r\n  }\r\n\r\n  pixel(key:string, x:number,y:number) {\r\n    let tfTile = this.state.transforms[key];\r\n    let palette = tfTile.palette;\r\n    let tile = tfTile.tile;\r\n    let p = (new Point(x,y)).toString();\r\n    return palette[tile[p] || 0];\r\n  }\r\n\r\n  resize() {}\r\n}\r\n","module.exports = \"<div class=\\\"row\\\"><div class=\\\"col-1\\\"><p></p></div></div>\\r\\n<tabbed-panel\\r\\n  title=\\\"CobbleStone\\\"\\r\\n  activeClass=\\\"is-success\\\"\\r\\n  [initActiveIndex]=\\\"0\\\">\\r\\n  <tab-child label=\\\"File\\\">\\r\\n    <file-form\\r\\n      [defaultSaveFile]=\\\"defaultSaveFile\\\"\\r\\n      [prepareLoadedData]=\\\"fileLoadHandler()\\\"\\r\\n      [fileLoadCallback]=\\\"fileLoadCallback()\\\"\\r\\n      [invokeDownload]=\\\"dataDownloader()\\\"\\r\\n      >\\r\\n    </file-form>\\r\\n  </tab-child>\\r\\n  <tab-child label=\\\"Palettes &amp; Tiles\\\">\\r\\n    <app-palettes-and-tiles [state]=\\\"state\\\" [loadTrigger]=\\\"loadTrigger\\\"></app-palettes-and-tiles>\\r\\n  </tab-child>\\r\\n  <tab-child label=\\\"Transforms\\\">\\r\\n    <app-transformed-tiles [state]=\\\"state\\\" [loadTrigger]=\\\"loadTrigger\\\"></app-transformed-tiles>\\r\\n  </tab-child>\\r\\n  <tab-child label=\\\"Map\\\">\\r\\n    <app-cobblestone-map [state]=\\\"state\\\" [loadTrigger]=\\\"loadTrigger\\\"></app-cobblestone-map>\\r\\n  </tab-child>\\r\\n  <!--\\r\\n  <tab-child label=\\\"Paging\\\">\\r\\n    <app-map-page-picker [state]=\\\"state\\\"></app-map-page-picker>\\r\\n  </tab-child>\\r\\n  -->\\r\\n</tabbed-panel>\\r\\n<div class=\\\"row\\\"><div class=\\\"col-1\\\"><p></p></div></div>\\r\\n<div class=\\\"print-cobblestone\\\">This will be printed</div>\\r\\n\"","module.exports = \"@media screen {\\n  .print-cobblestone {\\n    display: none; } }\\n\\n@media print {\\n  footer {\\n    display: none; }\\n  .print-cobblestone {\\n    display: block; }\\n  tabbed-panel {\\n    display: none; }\\n  header {\\n    display: none; } }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29iYmxlc3RvbmUvQzpcXGNvZGVcXGNhcmFiaW5lclxcZnJvbnQvc3JjXFxhcHBcXGNvYmJsZXN0b25lXFxjb2JibGVzdG9uZS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFO0lBQ0UsYUFBYSxFQUFBLEVBQ2Q7O0FBR0g7RUFDRTtJQUNFLGFBQWEsRUFBQTtFQUVmO0lBQ0UsY0FBYyxFQUFBO0VBRWhCO0lBQ0UsYUFBYSxFQUFBO0VBRWY7SUFDRSxhQUFhLEVBQUEsRUFDZCIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL2NvYmJsZXN0b25lLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIHNjcmVlbiB7XHJcbiAgLnByaW50LWNvYmJsZXN0b25lIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcblxyXG5AbWVkaWEgcHJpbnQge1xyXG4gIGZvb3RlciAge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcbiAgLnByaW50LWNvYmJsZXN0b25lIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuICB0YWJiZWQtcGFuZWwge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcbiAgaGVhZGVyIHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgfVxyXG59XHJcbiJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { Trigger } from \"../util/trigger\"\r\nimport {Observable} from \"rxjs\";\r\nimport {SpritelyData} from \"../spritely/spritely-data\";\r\nimport {CobblestoneFileService} from \"./cobblestone-file.service\";\r\nimport {CobblestoneData} from \"./model/cobblestone-data\";\r\n\r\n@Component({\r\n  selector: 'app-cobblestone',\r\n  templateUrl: './cobblestone.component.html',\r\n  styleUrls: ['./cobblestone.component.scss']\r\n})\r\nexport class CobblestoneComponent implements OnInit {\r\n\r\n  private state: {} = {\r\n    palettes:{},\r\n    tiles:{},\r\n    transforms:{},\r\n    mapping:{},\r\n    map:{},\r\n    paging:[]\r\n  };\r\n\r\n  defaultFileName: string;\r\n\r\n  loadTrigger: Trigger = new Trigger(\"on-file-load\");\r\n\r\n  constructor(private fb: FormBuilder, private cfs: CobblestoneFileService) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  fileLoadHandler() {\r\n    let me = this;\r\n    return function(fileData): Observable<CobblestoneData> {\r\n      return me.cfs.parseLoadData(fileData);\r\n    }\r\n  }\r\n\r\n  fileLoadCallback() {\r\n    let me = this;\r\n    return function(json) {\r\n      ['palettes','tiles','mapping','map'].forEach((key) => {\r\n        Object.entries(json[key]).forEach((entry) => {\r\n          me.state[key][entry[0]] = entry[1];\r\n        });\r\n      });\r\n      json.paging.forEach((page) => {\r\n        me.state['paging'].push(page)\r\n      });\r\n      me.loadTrigger.fire();\r\n    }\r\n  }\r\n\r\n  saveData(): any {\r\n    return {\r\n      palettes:this.state['palettes'],\r\n      tiles:this.state['tiles'],\r\n      mapping:this.state['mapping'],\r\n      map:this.state['map'],\r\n      paging:this.state['paging'],\r\n    };\r\n  }\r\n\r\n  dataDownloader() {\r\n    let me = this;\r\n    return function(filename) {\r\n      me.cfs.downloaddata(me.saveData(),filename);\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<p>\\r\\n  map-page-picker works!\\r\\n</p>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL21hcC1wYWdlLXBpY2tlci9tYXAtcGFnZS1waWNrZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-map-page-picker',\r\n  templateUrl: './map-page-picker.component.html',\r\n  styleUrls: ['./map-page-picker.component.scss']\r\n})\r\nexport class MapPagePickerComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<form [formGroup]=\\\"paletteAndTileForm\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-lg-4\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <div class=\\\"showcase\\\">\\r\\n            <div class=\\\"nes-container with-title\\\">\\r\\n              <div class=\\\"title\\\">\\r\\n                <h6>Palettes</h6>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-5 text-right\\\">\\r\\n                  <label for=\\\"palettes\\\" class=\\\"text-brand\\\">Palettes: </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-7\\\">\\r\\n                  <div class=\\\"nes-input nes-select\\\">\\r\\n                    <select id=\\\"palettes\\\" class=\\\"form-control\\\" formControlName=\\\"selectedPalette\\\" (change)=\\\"selectPalette()\\\">\\r\\n                      <ng-container *ngFor=\\\"let palette of state.palettes.keys()\\\">\\r\\n                        <option value=\\\"{{palette}}\\\">{{palette}}</option>\\r\\n                      </ng-container>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12 text-center\\\">\\r\\n                  <dialog-wrapper\\r\\n                    [triggerBtnName]=\\\"'Add Palette'\\\"\\r\\n                    [dialogConfirm]=\\\"paletteAdder()\\\"\\r\\n                    [dialogClose]=\\\"paletteDialogCloser()\\\">\\r\\n                    <label for=\\\"paletteName\\\">Palette Name</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"nes-input\\\" id=\\\"paletteName\\\" formControlName=\\\"paletteName\\\"/>\\r\\n                  </dialog-wrapper>\\r\\n                  <button type=\\\"button\\\" name=\\\"button\\\" class=\\\"nes-btn is-error\\\" (click)=\\\"removePalette()\\\">Remove Palette</button>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-5 text-right\\\">\\r\\n                  <label for=\\\"colors\\\" class=\\\"text-brand\\\">Colors: </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-7\\\">\\r\\n                  <div class=\\\"nes-input nes-select\\\">\\r\\n                    <select id=\\\"colors\\\" class=\\\"form-control\\\" formControlName=\\\"selectedColor\\\" (change)=\\\"selectColor()\\\">\\r\\n                      <ng-container *ngFor=\\\"let color of activePalette; index as i\\\">\\r\\n                        <option value=\\\"{{i}}\\\">{{i}} - {{color||'Transparent'}}</option>\\r\\n                      </ng-container>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-5 text-right\\\">\\r\\n                  <label for=\\\"color\\\" class=\\\"text-brand\\\">Color:</label>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-7\\\">\\r\\n                  <input type=\\\"color\\\" id=\\\"color\\\" class=\\\"nes-input form-control\\\" formControlName=\\\"color\\\" value=\\\"#000001\\\" (change)=\\\"setColor()\\\"/>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12 text-center\\\">\\r\\n                  <label for=\\\"makeTransparent\\\" class=\\\"text-brand\\\">\\r\\n                    <input type=\\\"checkbox\\\" id=\\\"makeTransparent\\\" class=\\\"nes-checkbox\\\" formControlName=\\\"makeTransparent\\\" (change)=\\\"makeTransparent()\\\">\\r\\n                    <span>Make Transparent?</span>\\r\\n                  </label>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-12 text-center\\\">\\r\\n                  <button class=\\\"nes-btn is-success\\\" (click)=\\\"addColor()\\\">Add Color</button>\\r\\n                  <button class=\\\"nes-btn is-error\\\" (click)=\\\"removeColor()\\\">Remove Color</button>\\r\\n                </div>\\r\\n              </div>\\r\\n              <p></p>\\r\\n              <app-palette-display\\r\\n                [palette]=\\\"activePalette\\\"\\r\\n                href=\\\"#/cobblestone\\\"\\r\\n                showFirst=\\\"true\\\"\\r\\n                [selectFn]=\\\"colorIndexSetter()\\\"\\r\\n              ></app-palette-display>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-12\\\">\\r\\n          <div class=\\\"showcase\\\">\\r\\n            <div class=\\\"nes-container with-title\\\">\\r\\n              <div class=\\\"title\\\">\\r\\n                <h6>Tiles</h6>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-5 text-right\\\">\\r\\n                  <label for=\\\"selectedTile\\\">Active Tile</label>\\r\\n                </div>\\r\\n                <div class=\\\"col-7\\\">\\r\\n                  <div class=\\\"nes-input nes-select\\\">\\r\\n                    <select class=\\\"form-control\\\" id=\\\"selectedTile\\\" formControlName=\\\"selectedTile\\\" (change)=\\\"selectTile()\\\">\\r\\n                      <ng-container *ngFor=\\\"let tileName of state.tiles.keys()\\\">\\r\\n                        <option value=\\\"{{tileName}}\\\">{{tileName}}</option>\\r\\n                      </ng-container>\\r\\n                    </select>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-12 text-center\\\">\\r\\n                  <dialog-wrapper\\r\\n                    [triggerBtnName]=\\\"'Add Tile'\\\"\\r\\n                    [dialogConfirm]=\\\"tileAdder()\\\"\\r\\n                    [dialogClose]=\\\"tileDialogCloser()\\\">\\r\\n                    <label for=\\\"tileName\\\">Tile Name</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"nes-input\\\" id=\\\"tileName\\\" formControlName=\\\"tileName\\\"/>\\r\\n                  </dialog-wrapper>\\r\\n                  <button type=\\\"button\\\" name=\\\"button\\\" class=\\\"nes-btn is-error\\\" (click)=\\\"removeTile()\\\">Remove Tile</button>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"col-lg-8\\\">\\r\\n      <div class=\\\"showcase\\\">\\r\\n        <div class=\\\"nes-container with-title\\\">\\r\\n          <div class=\\\"title\\\">\\r\\n            <h5>Tile Canvas</h5>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-5 text-right\\\">\\r\\n              <label for=\\\"backgroundColor\\\" class=\\\"text-brand\\\">Background Color:</label>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-7\\\">\\r\\n              <input type=\\\"color\\\" id=\\\"backgroundColor\\\" class=\\\"nes-input form-control\\\" formControlName=\\\"backgroundColor\\\" value=\\\"#fffffe\\\" (change)=\\\"setBackground()\\\"/>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <app-pixel-canvas\\r\\n                [pixels]=\\\"activeTile\\\"\\r\\n                [scale]=\\\"10\\\"\\r\\n                [width]=\\\"16\\\"\\r\\n                [height]=\\\"16\\\"\\r\\n                [palette]=\\\"activePalette\\\"\\r\\n                [backgroundColor]=\\\"getBackground()\\\"\\r\\n                [colorIndex]=\\\"activeColorIndex\\\"\\r\\n                page=\\\"cobblestone\\\"\\r\\n              ></app-pixel-canvas>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL3BhbGV0dGVzLWFuZC10aWxlcy9wYWxldHRlcy1hbmQtdGlsZXMuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport {Trigger} from \"../../util/trigger\";\r\n\r\n@Component({\r\n  selector: 'app-palettes-and-tiles',\r\n  templateUrl: './palettes-and-tiles.component.html',\r\n  styleUrls: ['./palettes-and-tiles.component.scss']\r\n})\r\nexport class PalettesAndTilesComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  activePalette: string[];\r\n\r\n  activeColorIndex: 0;\r\n\r\n  activeTile: {};\r\n\r\n  private paletteAndTileForm: FormGroup = this.fb.group({\r\n    selectedPalette:[''],\r\n    paletteName:[''],\r\n    selectedColor:[''],\r\n    color:['#000001'],\r\n    makeTransparent:[false],\r\n    tileName:[''],\r\n    selectedTile:[''],\r\n    backgroundColor:['#fffffe']\r\n  });\r\n\r\n  trigger: Trigger = new Trigger(\"redraw-tile\");\r\n\r\n  @Input()\r\n  loadTrigger: Trigger;\r\n\r\n  constructor(private fb: FormBuilder) { }\r\n\r\n  ngOnInit() {\r\n    let me = this;\r\n    this.loadTrigger.addListener(() => {\r\n      me.updateFromFile();\r\n    })\r\n  }\r\n\r\n  updateFromFile() {\r\n    let patch: {} = {}\r\n    let paletteNames = this.state.palettes.keys();\r\n    if (paletteNames.length > 0) {\r\n      patch[\"selectedPalette\"] = paletteNames[0];\r\n    }\r\n    let tileNames = this.state.tiles.keys();\r\n    if (tileNames.length > 0) {\r\n      patch[\"selectedTile\"] = tileNames[0];\r\n    }\r\n    this.paletteAndTileForm.patchValue(patch);\r\n    this.selectPalette();\r\n    this.selectTile();\r\n  }\r\n\r\n  tileDialogCloser() {\r\n    let form = this.paletteAndTileForm;\r\n    return function() {\r\n      form.patchValue({\r\n        tileName:''\r\n      });\r\n    }\r\n  }\r\n\r\n  tileAdder() {\r\n    let s = this.state;\r\n    let me = this;\r\n    return function() {\r\n      if (me.paletteAndTileForm.value.tileName && !me.state.tiles[me.paletteAndTileForm.value.tileName]) {\r\n        me.state.tiles[me.paletteAndTileForm.value.tileName] = {};\r\n        me.paletteAndTileForm.patchValue({\r\n          selectedTile:me.paletteAndTileForm.value.tileName\r\n        })\r\n        me.activeTile = me.state.tiles[me.paletteAndTileForm.value.tileName];\r\n      }\r\n    }\r\n  }\r\n\r\n  paletteDialogCloser() {\r\n    let form = this.paletteAndTileForm;\r\n    return function() {\r\n      form.patchValue({\r\n        selectedPalette:form.value.paletteName,\r\n        paletteName:''\r\n      });\r\n    }\r\n  }\r\n\r\n  paletteAdder() {\r\n    let me = this;\r\n    return function() {\r\n      if (me.paletteAndTileForm.value.paletteName && !me.state.palettes[me.paletteAndTileForm.value.paletteName]) {\r\n        me.state.palettes[me.paletteAndTileForm.value.paletteName] = [];\r\n        me.paletteAndTileForm.patchValue({\r\n          selectedPalette:me.paletteAndTileForm.value.paletteName\r\n        });\r\n        me.activePalette = me.state.palettes[me.paletteAndTileForm.value.paletteName];\r\n      }\r\n    }\r\n  }\r\n\r\n  selectPalette() {\r\n    this.activePalette = this.state.palettes[this.paletteAndTileForm.value.selectedPalette];\r\n  }\r\n\r\n  removePalette() {\r\n    if (this.activePalette) {\r\n      delete this.state.palettes[this.paletteAndTileForm.value.selectedPalette];\r\n      this.activePalette = undefined;\r\n    }\r\n  }\r\n\r\n  selectColor() {\r\n    if (this.activePalette) {\r\n      this.activeColorIndex = this.paletteAndTileForm.value.selectedColor;\r\n      this.paletteAndTileForm.patchValue({\r\n        color:this.activePalette[this.activeColorIndex]\r\n      });\r\n    }\r\n  }\r\n\r\n  colorIndexSetter() {\r\n    let me = this;\r\n    return function(index) {\r\n      me.paletteAndTileForm.patchValue({\r\n        selectedColor:index,\r\n      });\r\n      me.selectColor();\r\n    }\r\n  }\r\n\r\n  setColor() {\r\n    if (this.activePalette) {\r\n      if (this.activeColorIndex >= 0) {\r\n        this.activePalette[this.activeColorIndex] = this.paletteAndTileForm.value.color;\r\n      }\r\n    }\r\n  }\r\n\r\n  makeTransparent() {\r\n    if (this.activePalette) {\r\n      if (this.activeColorIndex >= 0) {\r\n        this.activePalette[this.activeColorIndex] = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  addColor() {\r\n    if (this.activePalette) {\r\n      this.activePalette.push(this.paletteAndTileForm.value.color);\r\n      this.paletteAndTileForm.patchValue({\r\n        selectedColor:(this.activePalette.length - 1)\r\n      })\r\n      this.selectColor();\r\n    }\r\n  }\r\n\r\n  removeColor() {\r\n    if (this.activePalette) {\r\n      if (this.activeColorIndex >= 0) {\r\n        this.activePalette.splice(this.activeColorIndex,1);\r\n      }\r\n    }\r\n  }\r\n\r\n  selectTile() {\r\n    this.activeTile = this.state.tiles[this.paletteAndTileForm.value.selectedTile];\r\n  }\r\n\r\n  removeTile() {\r\n    if (this.activeTile) {\r\n      delete this.state.tiles[this.paletteAndTileForm.value.selectedTile];\r\n    }\r\n  }\r\n\r\n  getBackground() {\r\n    if (this.activePalette && this.activePalette[0]) {\r\n      return this.activePalette[0]\r\n    }\r\n    return this.paletteAndTileForm.value.backgroundColor;\r\n  }\r\n}\r\n","module.exports = \"<p>\\r\\n  tile-canvas works!\\r\\n</p>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL3RpbGUtY2FudmFzL3RpbGUtY2FudmFzLmNvbXBvbmVudC5zY3NzIn0= */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Tile} from \"../tile\";\r\n\r\n@Component({\r\n  selector: 'app-tile-canvas',\r\n  templateUrl: './tile-canvas.component.html',\r\n  styleUrls: ['./tile-canvas.component.scss']\r\n})\r\nexport class TileCanvasComponent implements OnInit {\r\n\r\n  @Input()\r\n  tile: Tile;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<svg width=\\\"100%\\\" height=\\\"100%\\\" viewBox=\\\"0 0 16 16\\\">\\r\\n  <ng-container *ngFor=\\\"let y of range.max(16)\\\">\\r\\n    <ng-container *ngFor=\\\"let x of range.max(16)\\\">\\r\\n      <rect [attr.x]=\\\"x * scale\\\" [attr.y]=\\\"y * scale\\\" [attr.width]=\\\"scale\\\"\\r\\n        [attr.height]=\\\"scale\\\" [attr.fill]=\\\"pixel(x,y)\\\"\\r\\n        style=\\\"stroke:none;stroke-width:0\\\"></rect>\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n</svg>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL3RpbGUtZGlzcGxheS90aWxlLWRpc3BsYXkuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { TileTransformerService } from '../tile-transformer.service'\r\nimport { Range } from '../../util/range'\r\nimport { Point } from '../../util/point'\r\n\r\n@Component({\r\n  selector: 'tile-display',\r\n  templateUrl: './tile-display.component.html',\r\n  styleUrls: ['./tile-display.component.scss']\r\n})\r\nexport class TileDisplayComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  @Input()\r\n  key: string;\r\n\r\n  scale: number = 1;\r\n\r\n  palette: string[];\r\n\r\n  pixels: {} = {};\r\n\r\n  range = Range;\r\n\r\n  constructor(private ttf: TileTransformerService) { }\r\n\r\n  ngOnInit() {\r\n    if (this.key) {\r\n      let tfTile = this.ttf.buildTransformedTile(this.state,this.key);\r\n      this.palette = tfTile.palette;\r\n      this.pixels = tfTile.tile;\r\n    }\r\n  }\r\n\r\n  pixel(x:number,y:number) {\r\n    return this.palette[this.pixels[x + 'x' + y] || 0];\r\n  }\r\n}\r\n","module.exports = \"<ng-container *ngIf=\\\"palette && pixels\\\">\\r\\n  <ng-container *ngFor=\\\"let y of range.max(16)\\\">\\r\\n    <ng-container *ngFor=\\\"let x of range.max(16)\\\">\\r\\n      <svg:rect [attr.x]=\\\"x * scale\\\" [attr.y]=\\\"y * scale\\\" [attr.width]=\\\"scale\\\"\\r\\n        [attr.height]=\\\"scale\\\" [attr.fill]=\\\"pixel(x,y)\\\"\\r\\n        style=\\\"stroke:none;\\\"></svg:rect>\\r\\n    </ng-container>\\r\\n  </ng-container>\\r\\n</ng-container>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL3RpbGUtcGl4ZWxzL3RpbGUtcGl4ZWxzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Range } from '../../util/range'\r\nimport { Point } from '../../util/point'\r\n\r\n@Component({\r\n  selector: 'tile-pixels',\r\n  templateUrl: './tile-pixels.component.html',\r\n  styleUrls: ['./tile-pixels.component.scss']\r\n})\r\nexport class TilePixelsComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  @Input()\r\n  key: string;\r\n\r\n  @Input()\r\n  scale: number;\r\n\r\n  palette: string[];\r\n\r\n  pixels: {} = {};\r\n\r\n  transforms: string[];\r\n\r\n  range = Range;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    if (this.key) {\r\n      let attrs = this.key.split(\"_\");\r\n      this.palette = this.state.palettes[attrs[1]];\r\n      this.transforms = attrs.splice(2);\r\n      this.pixels = {};\r\n      let pixels = this.pixels;\r\n      let temp = this.state.tiles[attrs[0]];\r\n      if (temp) {\r\n        Object.entries(temp).forEach((pair) => {\r\n          let pixel = this.transforms.reduce((p,tf) => {\r\n            return p[tf](16,16);\r\n          },Point.parse(pair[0]));\r\n          let c = pair[1];\r\n          pixels[pixel.toString()] = c;\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  pixel(x:number,y:number) {\r\n    return this.palette[this.pixels[x + 'x' + y] || 0];\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Point } from '../util/point';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TileTransformerService {\r\n\r\n  constructor() { }\r\n\r\n  buildTransformedTile(state: any, key: string) {\r\n    let out: any = {};\r\n    let attrs = key.split(\"_\");\r\n    out.palette = state.palettes[attrs[1]];\r\n    let transforms = attrs.splice(2);\r\n    out.tile = {};\r\n    let pixels = out[\"tile\"];\r\n    let temp = state.tiles[attrs[0]];\r\n    if (temp) {\r\n      Object.entries(temp).forEach((pair) => {\r\n        let pixel = transforms.reduce((p,tf) => {\r\n          return p[tf](16,16);\r\n        },Point.parse(pair[0]));\r\n        let c = pair[1];\r\n        pixels[pixel.toString()] = c;\r\n      })\r\n    }\r\n    return out;\r\n  }\r\n}\r\n","import { Range } from \"../util/range\"\r\n\r\nexport class Tile {\r\n  name: string;\r\n  pixels: string[];\r\n\r\n  constructor () {\r\n    this.pixels = Range.max(16).map(() => {return \"a\".repeat(16)});\r\n  }\r\n\r\n  static parse(data: string): Tile {\r\n    let out = new Tile();\r\n    let temp = data.split(\"\\r\").join(\"\").split(\"\\n\");\r\n    Range.max(16).forEach((n) => {\r\n      let row = temp[n].substr(0,16);\r\n      let suffix = \"a\".repeat(Math.max(0,16-row.length));\r\n      out[n] = temp[n];\r\n    });\r\n    return out;\r\n  }\r\n\r\n  get(x:number, y:number): number {\r\n    return 97 - this.pixels[y].charCodeAt(x);\r\n  }\r\n\r\n  set(x:number, y:number, c:number) {\r\n    let temp = this.pixels[y].split(\"\");\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-4\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container\\\">\\r\\n        <form [formGroup]=\\\"transForm\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-12\\\" *ngIf=\\\"currentKey\\\">\\r\\n              <tile-display\\r\\n                [state]=\\\"state\\\"\\r\\n                [key]=\\\"currentKey\\\">\\r\\n              </tile-display>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <button class=\\\"nes-btn {{exists()?'is-error':'is-success'}}\\\" (click)=toggle()>{{exists()?'Remove':'Add'}}</button>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <label for=\\\"palettes\\\" class=\\\"text-brand\\\">Palettes: </label>\\r\\n              <div class=\\\"nes-input nes-select\\\">\\r\\n                <select id=\\\"palettes\\\" class=\\\"form-control\\\" formControlName=\\\"selectedPalette\\\" (change)=\\\"updateCurrentKey()\\\">\\r\\n                  <ng-container *ngFor=\\\"let palette of state.palettes.keys()\\\">\\r\\n                    <option value=\\\"{{palette}}\\\">{{palette}}</option>\\r\\n                  </ng-container>\\r\\n                </select>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <label for=\\\"selectedTile\\\">Tiles:</label>\\r\\n              <div class=\\\"nes-input nes-select\\\">\\r\\n                <select class=\\\"form-control\\\" id=\\\"selectedTile\\\" formControlName=\\\"selectedTile\\\" (change)=\\\"updateCurrentKey()\\\">\\r\\n                  <ng-container *ngFor=\\\"let tileName of state.tiles.keys()\\\">\\r\\n                    <option value=\\\"{{tileName}}\\\">{{tileName}}</option>\\r\\n                  </ng-container>\\r\\n                </select>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <div id=\\\"radios\\\" class=\\\"item\\\">\\r\\n                <label>Flip Over</label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"flipOver\\\" formControlName=\\\"flipOver\\\" value=\\\"flipOver\\\" (change)=\\\"updateCurrentKey()\\\"/><span>Yes</span></label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"flipOver\\\" formControlName=\\\"flipOver\\\" value=\\\"\\\" (change)=\\\"updateCurrentKey()\\\"/><span>No</span></label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <div id=\\\"radios\\\" class=\\\"item\\\">\\r\\n                <label>Flip Down</label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"flipDown\\\" formControlName=\\\"flipDown\\\" value=\\\"flipDown\\\" (change)=\\\"updateCurrentKey()\\\"/><span>Yes</span></label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"flipDown\\\" formControlName=\\\"flipDown\\\" value=\\\"\\\" (change)=\\\"updateCurrentKey()\\\"/><span>No</span></label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <div id=\\\"radios\\\" class=\\\"item\\\">\\r\\n                <label>Turn Right</label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"turnRight\\\" formControlName=\\\"turnRight\\\" value=\\\"turnRight\\\" (change)=\\\"updateCurrentKey()\\\"/><span>Yes</span></label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"turnRight\\\" formControlName=\\\"turnRight\\\" value=\\\"\\\" (change)=\\\"updateCurrentKey()\\\"/><span>No</span></label>\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-12\\\">\\r\\n              <div id=\\\"radios\\\" class=\\\"item\\\">\\r\\n                <label>Turn Left</label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"turnLeft\\\" formControlName=\\\"turnLeft\\\" value=\\\"turnLeft\\\" (change)=\\\"updateCurrentKey()\\\"/><span>Yes</span></label>\\r\\n                <label><input type=\\\"radio\\\" class=\\\"nes-radio\\\" name=\\\"turnLeft\\\" formControlName=\\\"turnLeft\\\" value=\\\"\\\" (change)=\\\"updateCurrentKey()\\\"/><span>No</span></label>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </form>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"col-8\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-3\\\" *ngFor=\\\"let key of state.transforms.keys()\\\">\\r\\n            <button (click)=\\\"setCurrentKey(key)\\\">\\r\\n              <tile-display\\r\\n                [state]=\\\"state\\\"\\r\\n                [key]=\\\"key\\\">\\r\\n              </tile-display>\\r\\n            </button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvYmJsZXN0b25lL3RyYW5zZm9ybWVkLXRpbGVzL3RyYW5zZm9ybWVkLXRpbGVzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { TileTransformerService } from '../tile-transformer.service'\r\nimport { Trigger } from \"../../util/trigger\";\r\n\r\n@Component({\r\n  selector: 'app-transformed-tiles',\r\n  templateUrl: './transformed-tiles.component.html',\r\n  styleUrls: ['./transformed-tiles.component.scss']\r\n})\r\nexport class TransformedTilesComponent implements OnInit {\r\n\r\n  @Input()\r\n  state: any;\r\n\r\n  transForm: FormGroup = this.fb.group({\r\n    selectedPalette:[''],\r\n    selectedTile:[''],\r\n    flipOver:[''],\r\n    flipDown:[''],\r\n    turnRight:[''],\r\n    turnLeft:['']\r\n  });\r\n\r\n  @Input()\r\n  loadTrigger: Trigger;\r\n\r\n  displayTrigger: Trigger = new Trigger(\"update-tile-display\");\r\n\r\n  currentKey: string;\r\n\r\n  constructor(private fb: FormBuilder, private ttf: TileTransformerService) { }\r\n\r\n  ngOnInit() {\r\n    let me = this;\r\n    this.loadTrigger.addListener(() => {\r\n      me.updateFromFile();\r\n    })\r\n  }\r\n\r\n  updateFromFile() {\r\n    let patch: {} = {};\r\n    let paletteNames = this.state.palettes.keys();\r\n    if (paletteNames.length > 0) {\r\n      patch[\"selectedPalette\"] = paletteNames[0];\r\n    }\r\n    let tileNames = this.state.tiles.keys();\r\n    if (tileNames.length > 0) {\r\n      patch[\"selectedTile\"] = tileNames[0];\r\n    }\r\n    this.transForm.patchValue(patch);\r\n    this.updateCurrentKey();\r\n    console.log(\"updated from file\")\r\n  }\r\n\r\n  static tfLabels = [\"flipOver\", \"flipDown\", \"turnRight\", \"turnLeft\"];\r\n\r\n  getCurrentKey() {\r\n    console.log(\"getting current key\");\r\n    let paletteName = this.transForm.value.selectedTile\r\n    let palette = this.state.palettes[paletteName];\r\n    if (palette) {\r\n      console.log(\"palette\");\r\n      console.log(palette);\r\n      let tileName = this.transForm.value.selectedTile;\r\n      let tile = this.state.tiles[tileName];\r\n      if (tile) {\r\n        console.log(\"tile\");\r\n        console.log(tile);\r\n        let values = this.transForm.value;\r\n        var tfs = TransformedTilesComponent.tfLabels.map((label) => {\r\n          return values[label];\r\n        }).filter((tf) => {\r\n          return tf.length > 0;\r\n        });\r\n        tfs.sort();\r\n        let key = [tileName,paletteName].concat(tfs).join(\"_\");\r\n        console.log(\"key\");\r\n        console.log(key);\r\n        return key;\r\n      }\r\n    }\r\n  }\r\n\r\n  updateCurrentKey() {\r\n    this.currentKey = this.getCurrentKey();\r\n    console.log(\"updated current key\");\r\n    console.log(this.currentKey);\r\n  }\r\n\r\n  setCurrentKey() {\r\n\r\n  }\r\n\r\n  exists() {\r\n    if (this.currentKey) {\r\n      return this.state.transforms[this.currentKey];\r\n    }\r\n  }\r\n\r\n  toggle() {\r\n    let key = this.currentKey;\r\n    if (key && this.state.transforms[key]) {\r\n      delete this.state.transforms[key];\r\n    } else {\r\n      this.state.transforms[key] = this.ttf.buildTransformedTile(this.state,key);\r\n    }\r\n  }\r\n\r\n}\r\n","module.exports = \"<p>\\r\\n  mastermold works!\\r\\n</p>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21hc3Rlcm1vbGQvbWFzdGVybW9sZC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-mastermold',\r\n  templateUrl: './mastermold.component.html',\r\n  styleUrls: ['./mastermold.component.scss']\r\n})\r\nexport class MastermoldComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<ng-container *ngIf=\\\"palette && pixels\\\">\\r\\n  <svg width=\\\"100%\\\" height=\\\"100%\\\"\\r\\n    [attr.viewBox]=\\\"'0 0 ' + (width * scale) + ' ' + (height * scale)\\\">\\r\\n    <ng-container *ngFor=\\\"let y of range.max(height)\\\">\\r\\n      <ng-container *ngFor=\\\"let x of range.max(width)\\\">\\r\\n        <a [attr.href]=\\\"'#/' + page\\\"\\r\\n          (mousedown)=\\\"initOutline($event)\\\"\\r\\n          (mouseover)=\\\"adjustOutline($event)\\\"\\r\\n          (mouseup)=\\\"completeOutline($event)\\\">\\r\\n          <rect\\r\\n            [attr.alt]=\\\"x + 'x' + y\\\"\\r\\n            [attr.x]=\\\"x * scale\\\"\\r\\n            [attr.y]=\\\"y * scale\\\"\\r\\n            [attr.width]=\\\"scale\\\"\\r\\n            [attr.height]=\\\"scale\\\"\\r\\n            [attr.fill]=\\\"palette[pixels[x + 'x' + y]]||backgroundColor\\\"\\r\\n            style=\\\"stroke:black;stroke-width:1;\\\"></rect>\\r\\n        </a>\\r\\n      </ng-container>\\r\\n    </ng-container>\\r\\n    <ng-container *ngIf=\\\"hasOutline()\\\">\\r\\n      <rect [attr.x]=\\\"startCorner.x * scale\\\" [attr.y]=\\\"startCorner.y * scale\\\"\\r\\n        [attr.width]=\\\"outlineDim.x * scale\\\" [attr.height]=\\\"outlineDim.y * scale\\\"\\r\\n        fill=\\\"none\\\" stroke=\\\"red\\\" stroke-width=\\\"1\\\"/>\\r\\n    </ng-container>\\r\\n  </svg>\\r\\n</ng-container>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BpeGVsLWNhbnZhcy9waXhlbC1jYW52YXMuY29tcG9uZW50LnNjc3MifQ== */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Trigger} from \"../util/trigger\";\r\nimport {Range} from \"../util/range\";\r\nimport {Point} from \"../util/point\";\r\n\r\n@Component({\r\n  selector: 'app-pixel-canvas',\r\n  templateUrl: './pixel-canvas.component.html',\r\n  styleUrls: ['./pixel-canvas.component.scss']\r\n})\r\nexport class PixelCanvasComponent implements OnInit {\r\n\r\n  @Input()\r\n  pixels: {};\r\n\r\n  @Input()\r\n  scale: number;\r\n\r\n  @Input()\r\n  width: number;\r\n\r\n  @Input()\r\n  height: number;\r\n\r\n  @Input()\r\n  palette: string[];\r\n\r\n  @Input()\r\n  backgroundColor: string;\r\n\r\n  @Input()\r\n  colorIndex: number;\r\n\r\n  @Input()\r\n  page: string;\r\n\r\n  range = Range;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  setColorForPixel(x:number,y:number) {\r\n    let key = (new Point(x,y)).toString();\r\n    if (this.pixels[key] === this.colorIndex) {\r\n      delete this.pixels[key];\r\n    } else {\r\n      this.pixels[key] = this.colorIndex;\r\n    }\r\n  }\r\n\r\n  doOutline:boolean = false;\r\n  initPoint:Point;\r\n  startCorner:Point;\r\n  outlineDim:Point;\r\n\r\n  initOutline(e) {\r\n    this.doOutline = true;\r\n    this.initPoint = Point.parse(e.target.attributes.alt.value);\r\n    this.startCorner = this.initPoint\r\n    this.outlineDim = new Point(1,1);\r\n  }\r\n\r\n  adjustOutline(e) {\r\n    if (this.doOutline) {\r\n      let temp = Point.parse(e.target.attributes.alt.value);\r\n      let min = this.initPoint.min(temp);\r\n      let max = this.initPoint.max(temp);\r\n      this.startCorner = min;\r\n      this.outlineDim = max.minus(min).plus(new Point(1,1));\r\n    }\r\n  }\r\n\r\n  completeOutline(e) {\r\n    this.doOutline = false;\r\n    console.log(\"complete\")\r\n    Range.max(this.outlineDim.y).forEach((y) => {\r\n      Range.max(this.outlineDim.x).forEach((x) => {\r\n        let key = (this.startCorner.plus(new Point(x,y))).toString();\r\n        if (this.pixels[key] === this.colorIndex) {\r\n          delete this.pixels[key];\r\n        } else {\r\n          this.pixels[key] = this.colorIndex;\r\n        }\r\n      })\r\n    })\r\n    this.initPoint = undefined;\r\n    this.outlineDim = undefined;\r\n    this.startCorner = undefined;\r\n  }\r\n\r\n  hasOutline() {\r\n    return this.outlineDim;\r\n  }\r\n}\r\n","module.exports = \"<button class=\\\"nes-btn\\\" (click)=\\\"download()\\\">\\r\\n  <svg [attr.width]=\\\"width * scale\\\" [attr.height]=\\\"height * scale\\\">\\r\\n    <rect [attr.width]=\\\"width * scale\\\" [attr.height]=\\\"height * scale\\\"\\r\\n          [attr.fill]=\\\"palette[0]||'none'\\\" stroke=\\\"none\\\" stroke-width=\\\"0\\\"></rect>\\r\\n    <ng-container *ngFor=\\\"let y of range.max(height)\\\">\\r\\n      <ng-container *ngFor=\\\"let x of range.max(width)\\\">\\r\\n        <rect\\r\\n          *ngIf=\\\"pixels[x + 'x' + y]\\\"\\r\\n          [attr.alt]=\\\"x + 'x' + y\\\"\\r\\n          [attr.x]=\\\"x * scale\\\"\\r\\n          [attr.y]=\\\"y * scale\\\"\\r\\n          [attr.width]=\\\"scale\\\"\\r\\n          [attr.height]=\\\"scale\\\"\\r\\n          [attr.fill]=\\\"palette[pixels[x + 'x' + y]]\\\"\\r\\n          style=\\\"stroke:none;stroke-width:0;\\\"></rect>\\r\\n      </ng-container>\\r\\n    </ng-container>\\r\\n  </svg>\\r\\n</button>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BpeGVsLXBhaW50ZXIvcGl4ZWwtcGFpbnRlci5jb21wb25lbnQuc2NzcyJ9 */\"","import {Component, ElementRef, Input, OnInit, SimpleChanges, ViewChild} from '@angular/core';\r\nimport {Range} from \"../util/range\";\r\n\r\n@Component({\r\n  selector: 'app-pixel-painter',\r\n  templateUrl: './pixel-painter.component.html',\r\n  styleUrls: ['./pixel-painter.component.scss']\r\n})\r\nexport class PixelPainterComponent implements OnInit {\r\n  @ViewChild('myCanvas') canvasRef: ElementRef;\r\n\r\n  @Input()\r\n  pixels: {};\r\n\r\n  @Input()\r\n  scale: number;\r\n\r\n  @Input()\r\n  width: number;\r\n\r\n  @Input()\r\n  height: number;\r\n\r\n  @Input()\r\n  palette: string[];\r\n\r\n  @Input()\r\n  download: any;\r\n\r\n  range = Range;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {Observable} from \"rxjs\";\r\nimport {SpritelyData} from \"./spritely-data\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {DownloadLink} from \"../util/download-link\";\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SpritelyFileService {\r\n\r\n  downloader: DownloadLink = new DownloadLink();\r\n\r\n  constructor(private client: HttpClient) { }\r\n\r\n  parseLoadData(loadData: string): Observable<SpritelyData> {\r\n    return this.client.post<SpritelyData>(\"/spritely/load\",loadData);\r\n  }\r\n\r\n  downloadImage(saveData: SpritelyData, scale: number, fileName: string, after: (() => void) = (() => {})): void {\r\n    this.client.post<String>(\"/spritely/img64\",{\r\n      \"art\":saveData,\r\n      \"scale\":scale\r\n    }).subscribe((base64) => {\r\n      this.downloader.setFileName(fileName);\r\n      this.downloader.setPath(\"data:image/png;base64,\" + base64);\r\n      this.downloader.invokeDownload();\r\n      after();\r\n    });\r\n  }\r\n\r\n  downloaddata(saveData: SpritelyData, fileName: string, after: (() => void) = (() => {})): void {\r\n    this.client.post<String>(\"/spritely/rawdata\",saveData).subscribe((rawdata) => {\r\n      this.downloader.setFileName(fileName);\r\n      this.downloader.setPath(\"data:text/plain;,\" + encodeURIComponent(rawdata.split(\"\\n\").join(\"\\r\\n\")));\r\n      this.downloader.invokeDownload();\r\n      after();\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<form [formGroup]=\\\"spritelyForm\\\" class=\\\"topic\\\">\\r\\n  <div style=\\\"display: none\\\">\\r\\n    <select id=\\\"palette\\\" class=\\\"form-control\\\" formControlName=\\\"selectedPalette\\\" (change)=\\\"selectColor()\\\">\\r\\n      <ng-container *ngFor=\\\"let color of palette; index as i\\\">\\r\\n        <option *ngIf=\\\"i > 0\\\" value=\\\"{{i}}\\\">{{i}} - {{color||'Transparent'}}</option>\\r\\n      </ng-container>\\r\\n    </select>\\r\\n    <input #colorPicker type=\\\"color\\\" id=\\\"color\\\" class=\\\"nes-input form-control\\\" formControlName=\\\"color\\\" value=\\\"#000001\\\" (change)=\\\"setColor()\\\"/>\\r\\n  </div>\\r\\n  <div class=\\\"showcase col-lg-12\\\">\\r\\n    <div class=\\\"nes-container with-title\\\">\\r\\n      <div class=\\\"title\\\">\\r\\n        <label>Spritely </label>\\r\\n      </div>\\r\\n      <div class=\\\"row small\\\">\\r\\n        <div class=\\\"col-lg-5\\\">\\r\\n          <accordian\\r\\n            tabId=\\\"fileTab\\\"\\r\\n            containerId=\\\"fileContainer\\\"\\r\\n            [initCollapsed]=\\\"true\\\"\\r\\n            label=\\\"File\\\">\\r\\n            <file-form\\r\\n              [defaultSaveFile]=\\\"defaultSaveFile\\\"\\r\\n              [prepareLoadedData]=\\\"fileDataReader()\\\"\\r\\n              [fileLoadCallback]=\\\"fileLoadCallback()\\\"\\r\\n              [invokeDownload]=\\\"dataDownloader()\\\">\\r\\n            </file-form>\\r\\n          </accordian>\\r\\n          <accordian\\r\\n            tabId=\\\"directionsTab\\\"\\r\\n            containerId=\\\"directionsContainer\\\"\\r\\n            [initCollapsed]=\\\"true\\\"\\r\\n            label=\\\"Help\\\">\\r\\n            <div class=\\\"nes-balloon from-left\\\">\\r\\n              <p>Spritely is a canvas for pixel art.</p>\\r\\n            </div>\\r\\n            <div class=\\\"nes-balloon from-right\\\">\\r\\n              <p>Build your palette below, then select a color in the palette to paint pixels that color, or to unpaint pixels already that color.</p>\\r\\n            </div>\\r\\n            <div class=\\\"nes-balloon from-left\\\">\\r\\n              <p>Changing the color of a slot in the palette will change the color of all matching pixels.</p>\\r\\n            </div>\\r\\n            <div class=\\\"nes-balloon from-right\\\">\\r\\n              <p>Deleting a color will unpaint all pixels that matching color</p>\\r\\n            </div>\\r\\n            <div class=\\\"nes-balloon from-left\\\">\\r\\n              <p>Unpainting pixels will return them to the background color.</p>\\r\\n            </div>\\r\\n          </accordian>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <div class=\\\"showcase\\\">\\r\\n                <div class=\\\"nes-container with-title\\\">\\r\\n                  <div class=\\\"title\\\">\\r\\n                    <label>Palette</label>\\r\\n                  </div>\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-5 text-right\\\">\\r\\n                      <label for=\\\"backgroundColor\\\" class=\\\"text-brand\\\">Background Color:</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-7\\\">\\r\\n                      <input type=\\\"color\\\" id=\\\"backgroundColor\\\" class=\\\"nes-input form-control\\\" formControlName=\\\"backgroundColor\\\" value=\\\"#fffffe\\\" (change)=\\\"setBackground()\\\"/>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-12 text-center\\\">\\r\\n                      <label for=\\\"makeTransparent\\\" class=\\\"text-brand\\\">\\r\\n                        <input type=\\\"checkbox\\\" id=\\\"makeTransparent\\\" class=\\\"nes-checkbox\\\" formControlName=\\\"makeTransparent\\\" (change)=\\\"makeTransparent()\\\">\\r\\n                        <span>\\r\\n                          Make Transparent?\\r\\n                        </span>\\r\\n                      </label>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <hr/>\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-12 text-center\\\">\\r\\n                      <button class=\\\"nes-btn is-success\\\" (click)=\\\"addColor()\\\">Add Color</button>\\r\\n                      <button class=\\\"nes-btn is-error\\\" (click)=\\\"removeColor()\\\">Remove Color</button>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                  <p></p>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <accordian\\r\\n            tabId=\\\"transformsTab\\\"\\r\\n            containerId=\\\"transformsContainer\\\"\\r\\n            [initCollapsed]=\\\"true\\\"\\r\\n            label=\\\"Transforms\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <div class=\\\"col-sm-12 text-center\\\">\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('turnLeft')\\\">Turn Left</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('turnRight')\\\">Turn Right</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('flipOver')\\\">Flip Over</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('flipDown')\\\">Flip Down</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('shiftLeft')\\\">Shift Left</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('shiftRight')\\\">Shift Right</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('shiftUp')\\\">Shift Up</button>\\r\\n                <button class=\\\"nes-btn is-warning\\\" (click)=\\\"transform('shiftDown')\\\">Shift Down</button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </accordian>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n              <div class=\\\"showcase\\\">\\r\\n                <div class=\\\"nes-container with-title\\\">\\r\\n                  <div class=\\\"title\\\">\\r\\n                    <label>Image</label>\\r\\n                  </div>\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-lg-4 col-md-6\\\">\\r\\n                      <div class=\\\"row\\\">\\r\\n                        <div class=\\\"col-sm-12\\\">\\r\\n                          <label for=\\\"scale\\\" class=\\\"text-brand\\\">Scale:</label>\\r\\n                          <input type=\\\"number\\\" min=\\\"1\\\" max=\\\"20\\\" id=\\\"scale\\\" class=\\\"nes-input\\\" formControlName=\\\"scale\\\"/>\\r\\n                        </div>\\r\\n                        <div class=\\\"col-sm-12\\\">\\r\\n                          <label for=\\\"imgFile\\\" class=\\\"text-brand\\\">Image FileName:</label>\\r\\n                          <input type=\\\"text\\\" id=\\\"imgFile\\\" class=\\\"nes-input\\\" formControlName=\\\"imgFile\\\" placeholder=\\\"Image File\\\"/>\\r\\n                        </div>\\r\\n                      </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-8 text-right\\\">\\r\\n                      <app-pixel-painter\\r\\n                        [pixels]=\\\"pixels\\\"\\r\\n                        [scale]=\\\"spritelyForm.value.scale\\\"\\r\\n                        [width]=\\\"spritelyForm.value.width\\\"\\r\\n                        [height]=\\\"spritelyForm.value.height\\\"\\r\\n                        [palette]=\\\"palette\\\"\\r\\n                        [download]=\\\"imgDownloader()\\\"\\r\\n                      ></app-pixel-painter>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-lg-7\\\">\\r\\n          <div class=\\\"showcase\\\">\\r\\n            <div class=\\\"nes-container\\\">\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-5 text-right\\\">\\r\\n                      <label for=\\\"width\\\" class=\\\"text-brand\\\">Width:</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-7\\\">\\r\\n                      <input type=\\\"number\\\" min=\\\"8\\\" max=\\\"64\\\" id=\\\"width\\\" class=\\\"nes-input\\\" formControlName=\\\"width\\\" (change)=\\\"resize()\\\"/>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-6\\\">\\r\\n                  <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-5 text-right\\\">\\r\\n                      <label for=\\\"height\\\" class=\\\"text-brand\\\">Height:</label>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-sm-7\\\">\\r\\n                      <input type=\\\"number\\\" min=\\\"8\\\" max=\\\"64\\\" id=\\\"height\\\" class=\\\"nes-input\\\" formControlName=\\\"height\\\" (change)=\\\"resize()\\\"/>\\r\\n                    </div>\\r\\n                  </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-12\\\">\\r\\n                  <app-palette-display\\r\\n                    [palette]=\\\"palette\\\"\\r\\n                    [href]=\\\"'#/spritely'\\\"\\r\\n                    [selectFn]=\\\"colorIndexSetter()\\\"\\r\\n                    [setColorFn]=\\\"colorSetter()\\\"\\r\\n                  ></app-palette-display>\\r\\n                </div>\\r\\n              </div>\\r\\n              <hr/>\\r\\n              <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-md-12\\\">\\r\\n                  <app-pixel-canvas\\r\\n                    class=\\\"col-12\\\"\\r\\n                    [pixels]=\\\"pixels\\\"\\r\\n                    [scale]=\\\"10\\\"\\r\\n                    [width]=\\\"min(spritelyForm.value.width,64)\\\"\\r\\n                    [height]=\\\"min(spritelyForm.value.height,64)\\\"\\r\\n                    [palette]=\\\"palette\\\"\\r\\n                    [backgroundColor]=\\\"spritelyForm.value.backgroundColor\\\"\\r\\n                    [colorIndex]=\\\"spritelyForm.value.selectedPalette\\\"\\r\\n                    page=\\\"spritely\\\"\\r\\n                  ></app-pixel-canvas>\\r\\n                </div>\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n<pixel-pending label=\\\"Download\\\"></pixel-pending>\\r\\n\"","module.exports = \"textarea.pixel-canvas:before {\\n  counter-increment: line;\\n  content: counter(line);\\n  display: inline-block;\\n  border-right: 1px solid #ddd;\\n  padding: 0 .5em;\\n  margin-right: .5em;\\n  color: #888; }\\n\\nhr {\\n  border-top: 4px solid black; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc3ByaXRlbHkvQzpcXGNvZGVcXGNhcmFiaW5lclxcZnJvbnQvc3JjXFxhcHBcXHNwcml0ZWx5XFxzcHJpdGVseS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUdJLHVCQUF1QjtFQUN2QixzQkFBc0I7RUFDdEIscUJBQXFCO0VBQ3JCLDRCQUE0QjtFQUM1QixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLFdBQ0YsRUFBQTs7QUFHRjtFQUNFLDJCQUEyQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvc3ByaXRlbHkvc3ByaXRlbHkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0ZXh0YXJlYS5waXhlbC1jYW52YXMge1xyXG5cclxuICAmOmJlZm9yZSB7XHJcbiAgICBjb3VudGVyLWluY3JlbWVudDogbGluZTtcclxuICAgIGNvbnRlbnQ6IGNvdW50ZXIobGluZSk7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xyXG4gICAgcGFkZGluZzogMCAuNWVtO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAuNWVtO1xyXG4gICAgY29sb3I6ICM4ODhcclxuICB9XHJcbn1cclxuXHJcbmhyIHtcclxuICBib3JkZXItdG9wOiA0cHggc29saWQgYmxhY2s7XHJcbn1cclxuIl19 */\"","import {Component, ElementRef, OnInit, ViewChild} from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\n\r\nimport {Observable, of} from \"rxjs\";\r\n\r\nimport {Point} from \"../util/point\";\r\nimport {Range} from \"../util/range\";\r\nimport {Trigger} from \"../util/trigger\";\r\n\r\nimport {SpritelyData} from \"./spritely-data\";\r\nimport {SpritelyFileService} from \"./spritely-file.service\";\r\nimport {Transforms} from \"./transform\";\r\nimport {PixelPendingComponent} from \"../util/pixel-pending/pixel-pending.component\";\r\n\r\n@Component({\r\n  selector: 'app-spritely',\r\n  templateUrl: './spritely.component.html',\r\n  styleUrls: ['./spritely.component.scss']\r\n})\r\nexport class SpritelyComponent implements OnInit {\r\n\r\n  @ViewChild(PixelPendingComponent) pending: PixelPendingComponent;\r\n\r\n  @ViewChild('colorPicker') colorInputRef: ElementRef;\r\n\r\n  spritelyForm: FormGroup = this.fb.group({\r\n    selectedPalette:[0],\r\n    scale:[5],\r\n    width:[16],\r\n    height:[16],\r\n    color:['#000001'],\r\n    makeTransparent:[false],\r\n    backgroundColor:['#fffffe'],\r\n    imgFile:['']\r\n  });\r\n\r\n  palette: string[] = [undefined];\r\n\r\n  pixels: {} = {};\r\n\r\n  trigger: Trigger = new Trigger(\"redraw-pixels\");\r\n\r\n  defaultSaveFile: string;\r\n\r\n  colorInput: HTMLInputElement;\r\n\r\n  startingColors: string[] = [\"#000000\",\"#ff0000\",\"#00ff00\",\"#0000ff\",\"#ffff00\",\"#ff00ff\",\"#00ffff\",\"#ffffff\"];\r\n\r\n  constructor(private fb: FormBuilder, private sfs: SpritelyFileService) { }\r\n\r\n  ngOnInit() {\r\n    this.colorInput = this.colorInputRef.nativeElement as HTMLInputElement;\r\n  }\r\n\r\n  fileDataReader() {\r\n    let me = this;\r\n    return function(fileData): Observable<SpritelyData> {\r\n      return me.sfs.parseLoadData(fileData);\r\n    }\r\n  }\r\n\r\n  fileLoadCallback() {\r\n    let me = this;\r\n    return function(load) {\r\n      me.palette = load.palette;\r\n      me.pixels = load.pixels;\r\n      let formValues: any = {\r\n        width:load.width,\r\n        height:load.height,\r\n      };\r\n      if (me.palette[0]) {\r\n        formValues.makeTransparent = false;\r\n        formValues.backgroundColor = me.palette[0];\r\n      } else {\r\n        formValues.makeTransparent = true;\r\n      }\r\n      if (me.palette.length > 1) {\r\n        formValues.selectedPalette = 1;\r\n        formValues.color = me.palette[1];\r\n      }\r\n      me.spritelyForm.patchValue(formValues);\r\n    }\r\n  }\r\n\r\n  saveData(): any {\r\n    return {\r\n      pixels:this.pixels,\r\n      palette:this.palette,\r\n      width:this.spritelyForm.value.width,\r\n      height:this.spritelyForm.value.height\r\n    };\r\n  }\r\n\r\n  dataDownloader() {\r\n    let me = this;\r\n    return function(filename) {\r\n      me.pending.block();\r\n      me.sfs.downloaddata(me.saveData(),filename,\r\n      () => { me.pending.complete(); });\r\n    }\r\n  }\r\n\r\n  imgDownloader() {\r\n    let me = this;\r\n    return function() {\r\n      me.pending.block();\r\n      me.sfs.downloadImage(me.saveData(),\r\n        me.spritelyForm.value.scale,\r\n        me.spritelyForm.value.imgFile,\r\n        () => { me.pending.complete(); });\r\n    }\r\n  }\r\n\r\n  selectColor() {\r\n    this.spritelyForm.patchValue({\r\n      color:this.palette[this.spritelyForm.value.selectedPalette]\r\n    });\r\n  }\r\n\r\n  colorIndexSetter() {\r\n    let me = this;\r\n    return function(index) {\r\n      me.spritelyForm.patchValue({\r\n        selectedPalette:index\r\n      });\r\n      me.selectColor();\r\n    }\r\n  }\r\n\r\n  colorSetter() {\r\n    let me = this;\r\n    return function(index) {\r\n      me.spritelyForm.patchValue({\r\n        selectedPalette:index\r\n      });\r\n      me.selectColor();\r\n      me.colorInput.click();\r\n    }\r\n  }\r\n\r\n  makeTransparent() {\r\n    let t = this.spritelyForm.value.makeTransparent;\r\n    this.palette[0] = t?undefined:this.spritelyForm.value.backgroundColor;\r\n  }\r\n\r\n  setBackground() {\r\n    this.palette[0] = this.spritelyForm.value.backgroundColor;\r\n  }\r\n\r\n  setColor() {\r\n    this.palette[this.spritelyForm.value.selectedPalette] = this.spritelyForm.value.color;\r\n  }\r\n\r\n  addColor() {\r\n    this.palette.push(this.startingColors[(this.palette.length % this.startingColors.length)]);\r\n    this.spritelyForm.patchValue({selectedPalette:(this.palette.length-1)});\r\n  }\r\n\r\n  removeColor() {\r\n    if (this.palette.length>1) {\r\n      this.palette.splice(this.spritelyForm.value.selectedPalette,1);\r\n      let len = this.palette.length;\r\n      let pixels = this.pixels;\r\n      Object.entries(pixels).forEach(entry => {\r\n        if(entry[1] >= len) {\r\n          delete pixels[entry[0]];\r\n        }\r\n      });\r\n      this.spritelyForm.patchValue({\r\n        selectedPalette:len - 1\r\n      })\r\n    }\r\n  }\r\n\r\n  transform(tf:Transforms) {\r\n    let width = this.spritelyForm.value.width;\r\n    let height = this.spritelyForm.value.height;\r\n    let pixels = this.pixels;\r\n    let entries = Object.entries(pixels);\r\n    let transformed: {} = {};\r\n    entries.forEach(function(entry: any[]){\r\n      let p: string = entry[0];\r\n      let newP: Point = Point.parse(p)[tf](width,height);\r\n      if(newP.isIn(width,height)) {\r\n        transformed[newP.toString()] = entry[1];\r\n      }\r\n      delete pixels[p];\r\n    });\r\n    Object.entries(transformed).forEach(function(entry:any[]){\r\n      pixels[entry[0]] = entry[1];\r\n    })\r\n  }\r\n\r\n  min() {\r\n    return Math.min.apply(Math,Array.from(arguments));\r\n  }\r\n\r\n  resize(){\r\n    this.spritelyForm.patchValue({\r\n      width:Math.min(64,Math.max(8,this.spritelyForm.value.width)),\r\n      height:Math.min(64,Math.max(8,this.spritelyForm.value.height)),\r\n    });\r\n  }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div #accordianTab [attr.id]=\\\"tabId\\\" [ngClass]=\\\"{'col-md-12':true,'hide':(initCollapsed == false)}\\\">\\r\\n    <button class=\\\"nes-btn is-primary nes-accordian\\\" (click)=\\\"expand()\\\">{{label}}</button>\\r\\n  </div>\\r\\n  <div #accordianContainer [ngClass]=\\\"{'col-md-12':true,'hide':initCollapsed}\\\" [attr.id]=\\\"containerId\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container with-title\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n          <label>{{label}}</label>\\r\\n        </div>\\r\\n        <ng-content></ng-content>\\r\\n        <button class=\\\"nes-btn is-primary minimize\\\"  (click)=\\\"collapse()\\\">^</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvYWNjb3JkaWFuL2FjY29yZGlhbi5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'accordian',\r\n  templateUrl: './accordian.component.html',\r\n  styleUrls: ['./accordian.component.scss']\r\n})\r\nexport class AccordianComponent implements OnInit {\r\n  @ViewChild('accordianTab') tabRef: ElementRef;\r\n  @ViewChild('accordianContainer') containerRef: ElementRef;\r\n\r\n  @Input()\r\n  tabId: string;\r\n\r\n  @Input()\r\n  containerId: string;\r\n\r\n  @Input()\r\n  initCollapsed: boolean;\r\n\r\n  @Input()\r\n  label: string;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  expand() {\r\n    console.log('expand');\r\n    this.tabRef.nativeElement.classList.add(\"hide\");\r\n    this.containerRef.nativeElement.classList.remove(\"hide\");\r\n  }\r\n\r\n  collapse() {\r\n    console.log('collapse');\r\n    this.tabRef.nativeElement.classList.remove(\"hide\");\r\n    this.containerRef.nativeElement.classList.add(\"hide\");\r\n  }\r\n\r\n}\r\n","module.exports = \"<button type=\\\"button\\\" name=\\\"button\\\" class=\\\"nes-btn is-success\\\" (click)=\\\"open()\\\">{{triggerBtnName}}</button>\\r\\n<dialog #myDialog class=\\\"nes-dialog is-dark is-rounded\\\">\\r\\n  <ng-content></ng-content>\\r\\n  <menu class=\\\"dialog-menu text-right\\\">\\r\\n    <button class=\\\"nes-btn\\\" (click)=\\\"cancel()\\\">Cancel</button>\\r\\n    <button class=\\\"nes-btn is-primary {{allowConfirm?'':'is-disabled'}}\\\" [disabled]=\\\"!allowConfirm\\\" (click)=\\\"confirm()\\\">Confirm</button>\\r\\n  </menu>\\r\\n</dialog>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvZGlhbG9nLXdyYXBwZXIvZGlhbG9nLXdyYXBwZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'dialog-wrapper',\r\n  templateUrl: './dialog-wrapper.component.html',\r\n  styleUrls: ['./dialog-wrapper.component.scss']\r\n})\r\nexport class DialogWrapperComponent implements OnInit {\r\n\r\n  @ViewChild('myDialog') dialogRef: ElementRef;\r\n\r\n  @Input()\r\n  triggerBtnName: string;\r\n\r\n  @Input()\r\n  allowConfirm: boolean = true;\r\n\r\n  @Input()\r\n  dialogConfirm: any;\r\n\r\n  @Input()\r\n  dialogClose: any;\r\n\r\n  @Input()\r\n  dialogOpen: any;\r\n\r\n  dialog: HTMLDialogElement;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.dialog = this.dialogRef.nativeElement as HTMLDialogElement;\r\n  }\r\n\r\n  open() {\r\n    if (this.dialogOpen) {\r\n      this.dialogOpen();\r\n    }\r\n    this.dialog.showModal();\r\n  }\r\n\r\n  confirm() {\r\n    if (this.dialogConfirm) {\r\n      this.dialogConfirm();\r\n    }\r\n    if (this.dialogClose) {\r\n      this.dialogClose();\r\n    }\r\n    this.dialog.close();\r\n  }\r\n\r\n  cancel() {\r\n    if (this.dialogClose) {\r\n      this.dialogClose();\r\n    }\r\n    this.dialog.close();\r\n  }\r\n\r\n}\r\n","export class DownloadLink {\r\n  private link: any;\r\n\r\n  constructor() {\r\n    this.link = document.createElement(\"a\");\r\n    this.link.target = \"_blank\";\r\n  }\r\n\r\n  setFileName(fileName: string) {\r\n    this.link.download = fileName;\r\n  }\r\n\r\n  setPath(href: string) {\r\n    this.link.href = href;\r\n  }\r\n\r\n  invokeDownload() {\r\n    if (this.link.href) {\r\n      this.link.click();\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<form [formGroup]=\\\"fileForm\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-md-6 text-center\\\">\\r\\n      <dialog-wrapper\\r\\n        triggerBtnName=\\\"Load File\\\"\\r\\n        [dialogConfirm]=\\\"fileLoadConfirmer()\\\"\\r\\n        [dialogClose]=\\\"fileLoadCanceler()\\\">\\r\\n        <label>Load File:</label>\\r\\n        <file-load-input [loadedFileCallback]=\\\"tempDataReader()\\\" [loadErrorCallback]=\\\"loadErrorHandler()\\\"></file-load-input>\\r\\n        <p *ngIf=\\\"loadError\\\" class=\\\"note nes-text is-error\\\">{{loadError}}</p>\\r\\n      </dialog-wrapper>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-6 text-center\\\">\\r\\n      <dialog-wrapper\\r\\n        triggerBtnName=\\\"Save File\\\"\\r\\n        [dialogOpen]=\\\"saveDialogOpener()\\\"\\r\\n        [dialogConfirm]=\\\"saveDialogConfirmer()\\\">\\r\\n        <label for=\\\"saveFile\\\">Save:</label>\\r\\n        <input type=\\\"text\\\" id=\\\"saveFile\\\" class=\\\"nes-input\\\" formControlName=\\\"saveFile\\\" placeholder=\\\"Save File\\\"/>\\r\\n      </dialog-wrapper>\\r\\n    </div>\\r\\n  </div>\\r\\n</form>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvZmlsZS1mb3JtL2ZpbGUtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from \"@angular/forms\";\r\nimport { Trigger } from '../trigger'\r\nimport { DownloadLink } from \"../download-link\";\r\nimport {SpritelyFileService} from \"../../spritely/spritely-file.service\";\r\n\r\n@Component({\r\n  selector: 'file-form',\r\n  templateUrl: './file-form.component.html',\r\n  styleUrls: ['./file-form.component.scss']\r\n})\r\nexport class FileFormComponent implements OnInit {\r\n\r\n  fileForm: FormGroup = this.fb.group({\r\n    saveFile:['']\r\n  });\r\n\r\n  @Input()\r\n  defaultSaveFile: string;\r\n\r\n  @Input()\r\n  prepareLoadedData: any;\r\n\r\n  @Input()\r\n  fileLoadCallback: any;\r\n\r\n  @Input()\r\n  buildSaveData: any;\r\n\r\n  @Input()\r\n  saveRoute:any;\r\n\r\n  @Input()\r\n  invokeDownload:any;\r\n\r\n  loadedFileData: any;\r\n\r\n  loadError: any;\r\n\r\n  saveDataUpdateTrigger: Trigger = new Trigger(\"update-save-data\");\r\n\r\n  readyToSave: boolean = false;\r\n\r\n  downloadLink: DownloadLink = new DownloadLink();\r\n\r\n  constructor(private fb: FormBuilder, private sf: SpritelyFileService) { }\r\n\r\n  ngOnInit() {\r\n    let me = this;\r\n    this.saveDataUpdateTrigger.addListener(function(e){\r\n      me.readyToSave = true;\r\n    })\r\n  }\r\n\r\n  tempDataReader() {\r\n    let me = this;\r\n    return function(fileData,fileName) {\r\n      me.prepareLoadedData(fileData).subscribe((data) => {\r\n        me.loadedFileData = data;\r\n        me.fileForm.patchValue({\r\n          saveFile:fileName\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  fileLoadConfirmer() {\r\n    let me = this;\r\n    return function() {\r\n      if(!me.loadError) {\r\n        me.fileLoadCallback(me.loadedFileData);\r\n      }\r\n    }\r\n  }\r\n\r\n  fileLoadCanceler() {\r\n    let me = this;\r\n    return function() {\r\n      me.loadedFileData = undefined;\r\n    }\r\n  }\r\n\r\n  loadErrorHandler() {\r\n    let me = this;\r\n    return function(e) {\r\n      me.loadError = e.message;\r\n    }\r\n  }\r\n\r\n  saveDialogOpener() {\r\n    let me = this;\r\n    return function() {\r\n      console.log(\"opening save dialog\")\r\n    }\r\n  }\r\n\r\n  saveDialogConfirmer() {\r\n    let me = this;\r\n    return function() {\r\n      me.invokeDownload(me.fileForm.value.saveFile);\r\n    }\r\n  }\r\n}\r\n","module.exports = \"<input type=\\\"file\\\" class=\\\"nes-input\\\" (change)=\\\"loadFile($event)\\\"/>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvZmlsZS1sb2FkLWlucHV0L2ZpbGUtbG9hZC1pbnB1dC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'file-load-input',\r\n  templateUrl: './file-load-input.component.html',\r\n  styleUrls: ['./file-load-input.component.scss']\r\n})\r\nexport class FileLoadInputComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  @Input()\r\n  loadedFileCallback: any;\r\n\r\n  @Input()\r\n  loadErrorCallback: any;\r\n\r\n  loadFile(e) {\r\n    console.log(\"load file\");\r\n    let inputValue = e.target;\r\n    let file:File = inputValue.files[0];\r\n    let myReader:FileReader = new FileReader();\r\n    var me = this;\r\n    myReader.onload = function(e){\r\n      // you can perform an action with readed data here\r\n      try {\r\n        me.loadedFileCallback(myReader.result,file.name);\r\n      } catch(e) {\r\n        console.log(e);\r\n        me.loadErrorCallback(e);\r\n      }\r\n    }\r\n    myReader.readAsText(file);\r\n  }\r\n\r\n}\r\n","module.exports = \"<div *ngIf=\\\"show\\\" class=\\\"showcase nes-tab-body\\\">\\r\\n  <div class=\\\"nes-container with-title\\\">\\r\\n    <div class=\\\"title\\\">\\r\\n      <h5>{{label}}</h5>\\r\\n    </div>\\r\\n    <ng-content></ng-content>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvbmVzLXRhYnMvY2hpbGQtcGFuZWwvY2hpbGQtcGFuZWwuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'tab-child',\r\n  templateUrl: './child-panel.component.html',\r\n  styleUrls: ['./child-panel.component.scss']\r\n})\r\nexport class ChildPanelComponent implements OnInit {\r\n\r\n  @Input()\r\n  label: string;\r\n\r\n  hide: boolean = true;\r\n  show: boolean = false;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-12\\\">\\r\\n    <div class=\\\"showcase\\\">\\r\\n      <div class=\\\"nes-container with-title\\\">\\r\\n        <div class=\\\"title\\\">\\r\\n          <h4 style=\\\"display: inline;\\\">&nbsp;{{title}}&nbsp;</h4>\\r\\n          <ng-container *ngFor=\\\"let child of children; index as i\\\">\\r\\n            <button class=\\\"nes-btn nes-tab-btn {{(activeIndex == i) ? activeClass : ''}}\\\" (click)=\\\"select(i)\\\">{{child.label}}</button>\\r\\n          </ng-container>\\r\\n        </div>\\r\\n        <ng-content></ng-content>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvbmVzLXRhYnMvdGFiYmVkLXBhbmVsL3RhYmJlZC1wYW5lbC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Input, QueryList, ContentChildren, AfterContentInit  } from '@angular/core';\r\nimport { ChildPanelComponent } from '../child-panel/child-panel.component';\r\n\r\n@Component({\r\n  selector: 'tabbed-panel',\r\n  templateUrl: './tabbed-panel.component.html',\r\n  styleUrls: ['./tabbed-panel.component.scss']\r\n})\r\nexport class TabbedPanelComponent implements OnInit, AfterContentInit {\r\n\r\n  @ContentChildren(ChildPanelComponent)\r\n  children: QueryList<ChildPanelComponent>;\r\n\r\n  @Input()\r\n  title: string;\r\n\r\n  @Input()\r\n  activeClass: string;\r\n\r\n  @Input()\r\n  initActiveIndex: number;\r\n\r\n  activeIndex: number = 0;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.activeIndex = this.initActiveIndex;\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    this.children.toArray()[this.activeIndex].show = true;\r\n  }\r\n\r\n  select(index: number) {\r\n    this.children.toArray()[this.activeIndex].show = false;\r\n    this.activeIndex = index;\r\n    this.children.toArray()[this.activeIndex].show = true;\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row\\\" >\\r\\n  <div *ngIf=\\\"palette && (palette.length == (showFirst?0:1))\\\" class=\\\"col-sm-12 nes-input text-center\\\">\\r\\n    <span>Add colors to your palette to paint.</span>\\r\\n  </div>\\r\\n  <div *ngIf=\\\"palette && (palette.length > (showFirst?0:1))\\\" class=\\\"col-sm-12 text-justify palette\\\" [style.margin]=\\\"0\\\">\\r\\n    <ng-container *ngFor=\\\"let c of palette; index as i\\\">\\r\\n      <a *ngIf=\\\"showFirst || i > 0\\\"\\r\\n        class=\\\"palette-item\\\"\\r\\n        [style.color]=\\\"c\\\"\\r\\n        [style.backgroundColor]=\\\"c\\\"\\r\\n        [style.width]=\\\"(100/(palette.length - (showFirst?0:1)))+'%'\\\"\\r\\n        href=\\\"{{href}}\\\"\\r\\n        (click)=\\\"select(i)\\\"\\r\\n        (dblclick)=\\\"setColor(i)\\\"\\r\\n        >\\r\\n        <span class=\\\"nes-input palette-color {{(activeIndex == i)?'is-error':''}}\\\">_</span>\\r\\n      </a>\\r\\n    </ng-container>\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvcGFsZXR0ZS1kaXNwbGF5L3BhbGV0dGUtZGlzcGxheS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, Input, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-palette-display',\r\n  templateUrl: './palette-display.component.html',\r\n  styleUrls: ['./palette-display.component.scss']\r\n})\r\nexport class PaletteDisplayComponent implements OnInit {\r\n\r\n  @Input()\r\n  palette: string[];\r\n\r\n  @Input()\r\n  href: string;\r\n\r\n  @Input()\r\n  showFirst: boolean;\r\n\r\n  @Input()\r\n  selectFn: Function;\r\n\r\n  @Input()\r\n  setColorFn: Function;\r\n\r\n  activeIndex: number;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  select(index:number):void {\r\n    this.selectFn(index);\r\n    this.activeIndex = index;\r\n  }\r\n\r\n  setColor(index:number):void {\r\n    this.select(index);\r\n    this.setColorFn(index);\r\n  }\r\n\r\n}\r\n","module.exports = \"<dialog #pendingDialog  class=\\\"nes-dialog is-dark is-rounded\\\">\\r\\n  <div class=\\\"row\\\">\\r\\n    <div class=\\\"col-12\\\">\\r\\n      {{label}} pending ...\\r\\n    </div>\\r\\n    <div class=\\\"col-12\\\">\\r\\n      <svg width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\">\\r\\n          <animate id=\\\"anim1\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"white\\\" to=\\\"black\\\" begin=\\\"0s; anim2.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n          <animate id=\\\"anim2\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"black\\\" to=\\\"white\\\" begin=\\\"anim1.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n        </rect>\\r\\n      </svg>\\r\\n      <svg width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\" version=\\\"1.1\\\"\\r\\n           xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\">\\r\\n          <animate id=\\\"anim3\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"white\\\" to=\\\"red\\\" begin=\\\"0.5s; anim4.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n          <animate id=\\\"anim4\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"red\\\" to=\\\"white\\\" begin=\\\"anim3.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n        </rect>\\r\\n      </svg>\\r\\n      <svg width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\">\\r\\n          <animate id=\\\"anim5\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"white\\\" to=\\\"green\\\" begin=\\\"1s; anim6.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n          <animate id=\\\"anim6\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"green\\\" to=\\\"white\\\" begin=\\\"anim5.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n        </rect>\\r\\n      </svg>\\r\\n      <svg width=\\\"40\\\" height=\\\"40\\\" viewBox=\\\"0 0 40 40\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\r\\n        <rect x=\\\"10\\\" y=\\\"10\\\" width=\\\"20\\\" height=\\\"20\\\" fill=\\\"white\\\">\\r\\n          <animate id=\\\"anim7\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"white\\\" to=\\\"blue\\\" begin=\\\"1.5s; anim8.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n          <animate id=\\\"anim8\\\" attributeType=\\\"XML\\\" attributeName=\\\"fill\\\" from=\\\"blue\\\" to=\\\"white\\\" begin=\\\"anim7.end\\\" dur=\\\"1s\\\" repeatCount=\\\"\\\"/>\\r\\n        </rect>\\r\\n      </svg>\\r\\n    </div>\\r\\n  </div>\\r\\n</dialog>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3V0aWwvcGl4ZWwtcGVuZGluZy9waXhlbC1wZW5kaW5nLmNvbXBvbmVudC5zY3NzIn0= */\"","import {Component, ElementRef, Input, OnInit, ViewChild} from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'pixel-pending',\r\n  templateUrl: './pixel-pending.component.html',\r\n  styleUrls: ['./pixel-pending.component.scss']\r\n})\r\nexport class PixelPendingComponent implements OnInit {\r\n\r\n  @ViewChild('pendingDialog') dialogRef: ElementRef;\r\n\r\n  @Input()\r\n  label: string = \"\";\r\n\r\n  dialog: HTMLDialogElement;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n    this.dialog = this.dialogRef.nativeElement as HTMLDialogElement;\r\n  }\r\n\r\n  block(): void {\r\n    console.log(\"blocking\");\r\n    this.dialog.showModal();\r\n  }\r\n\r\n  complete(): void {\r\n    console.log(\"pending complete\");\r\n    this.dialog.close();\r\n  }\r\n\r\n}\r\n","export class Point {\r\n  x:number;\r\n  y:number;\r\n\r\n  constructor(x:number,y:number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  isIn(width:number, height:number) {\r\n    return (this.x >= 0) && (this.x < width) && (this.y >= 0) && (this.y < height);\r\n  }\r\n\r\n  min(p:Point) {\r\n    return new Point(Math.min(this.x,p.x),Math.min(this.y,p.y));\r\n  }\r\n\r\n  max(p:Point) {\r\n    return new Point(Math.max(this.x,p.x),Math.max(this.y,p.y));\r\n  }\r\n\r\n  plus(p:Point) {\r\n    return new Point(this.x+p.x,this.y+p.y);\r\n  }\r\n\r\n  minus(p:Point) {\r\n    let min = this.min(p);\r\n    let max = this.max(p);\r\n    return new Point(max.x-min.x,max.y-min.y);\r\n  }\r\n\r\n  equals(p:Point) {\r\n    return this.x == p.x && this.y == p.y;\r\n  }\r\n\r\n  toString() {\r\n    return this.x + 'x' + this.y;\r\n  }\r\n\r\n  static parse(xy: string) {\r\n    let p = xy.split(\"x\").map(n => parseInt(n));\r\n    return new Point(p[0],p[1]);\r\n  }\r\n\r\n  private turnLeft(width:number,height:number) {\r\n    let dim = Math.min(width,height) - 1;\r\n    return new Point(this.y,dim - this.x);\r\n  }\r\n\r\n  private turnRight(width:number,height:number) {\r\n    let dim = Math.min(width,height) - 1;\r\n    return new Point(dim - this.y,this.x);\r\n  }\r\n\r\n  private flipOver(width:number,height:number) {\r\n    return new Point((width-1)-this.x,this.y);\r\n  }\r\n\r\n  private flipDown(width:number,height:number) {\r\n    return new Point(this.x,(height-1)-this.y);\r\n  }\r\n\r\n  private shiftLeft(width:number,height:number) {\r\n    return new Point(this.x-1,this.y);\r\n  }\r\n\r\n  private shiftRight(width:number,height:number) {\r\n    return new Point(this.x+1,this.y);\r\n  }\r\n\r\n  private shiftUp(width:number,height:number) {\r\n    return new Point(this.x,this.y-1);\r\n  }\r\n\r\n  private shiftDown(width:number,height:number) {\r\n    return new Point(this.x,this.y+1);\r\n  }\r\n}\r\n","export class Range {\r\n  public static max(max: number): number[] {\r\n    return Range.minmax(0,max);\r\n  }\r\n\r\n  public static minmax(min: number, max: number): number[] {\r\n    return Range.minmaxstep(min, max, 1);\r\n  }\r\n\r\n  public static minmaxstep(min: number, max: number, step: number): number[] {\r\n    let out: number[] = [];\r\n    for (let x = min; x < max; x += step) {\r\n      out.push(x);\r\n    }\r\n    return out;\r\n  }\r\n}\r\n","export class Trigger {\r\n  private elem: any = document.createElement(\"span\");\r\n  private eventName: string;\r\n  private listeners: Function[] = [];\r\n\r\n  constructor(eventName: string) {\r\n    this.eventName = eventName;\r\n  }\r\n\r\n  addListener(fn: Function): number {\r\n    let len = this.listeners.length;\r\n    this.listeners.push(fn);\r\n    this.elem.addEventListener(this.eventName, fn);\r\n    return len;\r\n  }\r\n\r\n  fireWithDetail(detail) {\r\n    this.elem.dispatchEvent(new CustomEvent(this.eventName,{detail:detail}));\r\n  }\r\n\r\n  fire() {\r\n    this.elem.dispatchEvent(new Event(this.eventName));\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}